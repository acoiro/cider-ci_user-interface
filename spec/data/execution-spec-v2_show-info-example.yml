name: Show info

task_defaults:
  auto_trials: 2
  eager_trials: 1
  traits: 
    linux: True 


tasks: 

  - name: Hello 
    scripts:
      main: 
        body: echo 'Hello World!'


sub_contexts: 

  - name: Machine properties

    tasks: 

      - name: Kernel
        scripts:
          main: 
            body: uname -r  

      - name: CPU
        scripts:
          main: 
            body: cat /proc/cpuinfo  

      - name: Memory
        scripts:
          main: 
            body: cat /proc/meminfo

  - name: Operating System

    tasks:

    - name: LSB 
      scripts:
        main: 
          body: lsb_release -a 

  - name: Project 

    tasks:

    - name: List files
      scripts:
        main: 
          body: ls -lah

    - name: Deep listing
      scripts:
        main: 
          body: find . > list.txt
      attachments: 
        file_list: 
          glob: list.txt
          content-type: text/plain

    - name: Git log 
      scripts:
        main: 
          body: git log -n 3

    - name: Git submodule status
      scripts:
        main: 
          body: git submodules status


